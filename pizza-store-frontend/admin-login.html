<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Login</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Specific Admin Color */
        .login-box { border-top: 5px solid #dc3545; }
        button { background: #dc3545; }
        button:hover { background: #c82333; }
    </style>
</head>
<body>
    <div class="container">
        <div class="login-box">
            <h2>Admin Portal</h2>
            <form>
                <div class="input-group">
                    <label>Username</label>
                    <input type="text" id="adminUsername" required>
                </div>
                <div class="input-group">
                    <label>Password</label>
                    <input type="password" id="adminPassword" required>
                </div>
                <button type="button" onclick="adminLogin()">Login as Admin</button>
            </form>
            <p class="footer-text"><a href="index.html">Back to User Login</a></p>
        </div>
    </div>

    <script>
        async function adminLogin() {
            const username = document.getElementById("adminUsername").value;
            const password = document.getElementById("adminPassword").value;

            const loginData = {
                adminUsername: username,
                adminPassword: password
            };

            try {
                const response = await fetch('http://localhost:8081/admin/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(loginData)
                });

                const message = await response.text();

                if (message.includes("Successful")) {
                    alert("Welcome Admin!");
                    // We will create an admin-dashboard.html next
                    window.location.href = "admin-dashboard.html"; 
                } else {
                    alert("Invalid Credentials");
                }
            } catch (error) {
                console.error(error);
                alert("Server Error");
            }
        }
    </script>
</body>
</html>